{% extends 'template.twig' %}

{% block content %}
        {% if ( filter != none ) and ( ( filter == 'host' ) or ( filter == 'group' ) ) %}
                <div class="panel-heading">
                    <strong>{{ filter_value }}</strong> | {{ allProcesses|length|pluralize('process') }}
                    <span>
                        {% include 'actions_filter.twig' %}
                    </span>
                </div>
        {% endif %}
        <div class="row">
                <div class="col-lg-12">
                    <div class="panel panel-default">
                        <table class="table table-striped table-bordered">
                                <tr>
                                    <th>Host</th>
                                    <th>Group</th>
                                    <th>Name</th>
                                    <th>State</th>
                                    <th>Start</th>
                                    <th>Controls</th>
                                </tr>
                        {% for process in allProcesses %}
                                <tr>
                                    <td class="col-lg-2">{{ process.host }}</td>
                                    <td class="col-lg-3">{{ process.group }}</td>
                                    <td class="col-lg-3">{{ process.name }}</td>
                                    <td class="col-lg-1"><span class="label label-{{ process.statename|state }}">{{ process.statename }}</span></td>
                                    <td class="col-lg-1">{{ process|state_ago }}</td>
                                    <td class="col-lg-1">{% include 'actions.twig' with {'instance': process.host, 'process': process.name, 'group': process.group} only %}</td>
                                </tr>
                            {% else %}
                                <tr><td><i>No processes</i></td></tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
        </div>
{% endblock %}
